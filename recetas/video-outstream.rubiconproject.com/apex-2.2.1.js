(()=>{var e={228:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},858:e=>{e.exports=function(e){if(Array.isArray(e))return e}},646:(e,t,n)=>{var r=n(228);e.exports=function(e){if(Array.isArray(e))return r(e)}},575:e=>{e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},913:e=>{function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}},713:e=>{e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},860:e=>{e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},884:e=>{e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}},521:e=>{e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},206:e=>{e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},38:(e,t,n)=>{var r=n(858),i=n(884),a=n(379),o=n(521);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()}},319:(e,t,n)=>{var r=n(646),i=n(860),a=n(379),o=n(206);e.exports=function(e){return r(e)||i(e)||a(e)||o()}},8:e=>{function t(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=t=function(e){return typeof e}:e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(n)}e.exports=t},379:(e,t,n)=>{var r=n(228);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},473:e=>{e.exports="data:image/svg+xml;base64,PCFET0NUWVBFIHN2ZyBQVUJMSUMgJy0vL1czQy8vRFREIFNWRyAxLjEvL0VOJyAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGhlaWdodD0iNTEycHgiIGlkPSJMYXllcl8xIiBzdHlsZT0iZmlsbDogd2hpdGU7ZmlsdGVyOmRyb3Atc2hhZG93KDBweCAzcHggM3B4IHJnYmEoMCwwLDAsMC4yKSk7ZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyOyIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgNTEyIDUxMiIgd2lkdGg9IjUxMnB4IiB4bWw6c3BhY2U9InByZXNlcnZlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj48cGF0aCBkPSJNNDQzLjYsMzg3LjFMMzEyLjQsMjU1LjRsMTMxLjUtMTMwYzUuNC01LjQsNS40LTE0LjIsMC0xOS42bC0zNy40LTM3LjZjLTIuNi0yLjYtNi4xLTQtOS44LTRjLTMuNywwLTcuMiwxLjUtOS44LDQgTDI1NiwxOTcuOEwxMjQuOSw2OC4zYy0yLjYtMi42LTYuMS00LTkuOC00Yy0zLjcsMC03LjIsMS41LTkuOCw0TDY4LDEwNS45Yy01LjQsNS40LTUuNCwxNC4yLDAsMTkuNmwxMzEuNSwxMzBMNjguNCwzODcuMSBjLTIuNiwyLjYtNC4xLDYuMS00LjEsOS44YzAsMy43LDEuNCw3LjIsNC4xLDkuOGwzNy40LDM3LjZjMi43LDIuNyw2LjIsNC4xLDkuOCw0LjFjMy41LDAsNy4xLTEuMyw5LjgtNC4xTDI1NiwzMTMuMWwxMzAuNywxMzEuMSBjMi43LDIuNyw2LjIsNC4xLDkuOCw0LjFjMy41LDAsNy4xLTEuMyw5LjgtNC4xbDM3LjQtMzcuNmMyLjYtMi42LDQuMS02LjEsNC4xLTkuOEM0NDcuNywzOTMuMiw0NDYuMiwzODkuNyw0NDMuNiwzODcuMXoiLz48L3N2Zz4g"}},t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(713),t=n.n(e);function r(e,t){var n={};Object.assign(n,e);var i={};return Object.keys(t).forEach((function(e){Array.isArray(t[e])?Array.isArray(n[e])?i[e]=t[e].concat(n[e]):i[e]=t[e].slice():t[e]instanceof HTMLElement?i[e]=t[e]:t[e]instanceof Object?i[e]=r(n[e],t[e]):i[e]=t[e]})),Object.assign(n,i),n}const i={debuggerOn:!1,isEnabled:function(){return this.debuggerOn},set:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.debuggerOn=!!e},log:function(){if(this.debuggerOn){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.log.apply(null,t)}},warn:function(){if(this.debuggerOn){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.warn.apply(null,t)}}};function a(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=Math.floor(16*Math.random());return("x"===e?t:3&t|8).toString(16)}))}const o={init:function(e,t){this.debugger=t,this.beaconConfig=e},update:function(e){var t=this,n=this.beaconConfig,r=n.stats_url,i=n.stats_topic,o=n.stats_sampling_rate;if(o&&100*Math.random()>parseFloat(o))this.debugger.log("NFBeacon - event discarded because of sampling");else{var s=[r,i,"/",e,"-",this.beaconConfig._test_UUID||a()].join(""),c=["account_id","site_id","zone_id","size_id"].map((function(e){return"".concat(e,"=").concat(t.beaconConfig[e])})).join("&"),l="".concat(s,"?").concat(c,"&event=").concat(e),p=new Image;this.debugger.isEnabled()&&(p.addEventListener("load",(function(){t.debugger.log("NFBeacon updated: ".concat(l))})),p.addEventListener("error",(function(e){t.debugger.log("NFBeacon update failed: ".concat(l,":"),e)}))),void 0!==r&&""!==r?p.src=l:this.debugger.log("NFBeacon - Empty URL!")}}};var s=n(38),c=n.n(s),l=n(8),p=n.n(l),d={},u=!0,f=0;const h={reset:function(){d={},u=!0,f=0},setConsentData:function(e,t){t>f&&(f=t,d=e)},getGDPR:function(){return d},get consent(){return u},set consent(e){u=e}};var g=function(){},m=a(),y="";function w(e,t,n){i.log("CCPA uspHandler",e,t,n===m),t&&(y=e.uspString),g()}window.addEventListener("message",(function(e){e&&e.data&&e.data.__uspapiReturn&&w(e.data.__uspapiReturn.returnValue,e.data.__uspapiReturn.success,e.data.__uspapiReturn.callId)}),!1);const v={createUspPromise:function(e){var t=this;return"us_privacy"in e?(i.log("CCPA: got us_privacy from adParameters"),new Promise((function(n){t.uspString=e.us_privacy,n()}))):new Promise((function(e){var n=!1;g=function(){n=!0,e()},t.uspApiCall(),setTimeout((function(){n||(i.log("CCPA: no response"),n=!0,g())}),100)}))},registerCb:function(e){g=e},uspApiCall:function(){window.__uspapi?(i.log("CCPA: call USP API on the same frame"),window.__uspapi("getUSPData",1,w)):(i.log("CCPA: send message to USP API"),window.top.postMessage({__uspapiCall:{callId:m,command:"getUSPData",version:1}},"*"))},set uspString(e){y=e},get uspString(){return y}};var b=window.top;function x(e,t,n,r){var i=!1;try{i=!!e.document}catch(e){}var a={window:e,accessible:i,width:-1,height:-1,referer:null,href:null},o=r;return t&&r<0&&(o=i&&function(e,t){for(var n=t.document.getElementsByTagName(e.tagName),r=!1,i=0;i<n.length;i+=1)if(e===n[i]){r=!0;break}return r}(t,e)?n.length:-1),i&&(a.referer=e.document.referrer,a.width=e.innerWidth,a.height=e.innerHeight,a.href=e.location.href),n.push(a),e===b?{stack:n,needle:r}:x(e.parent,t,n,o)}function C(e,t){var n=x(e,t,[],-1),r=n.stack.length-1,i=2147483647,a=2147483647,o=0;for(-1===n.needle&&(n.needle=0);r>=n.needle&&!n.stack[r].accessible;r-=1)o+=1;for(n.highest=r,n.depth=o,r=n.needle;r<=n.highest;r+=1)i=i>n.stack[r].width?n.stack[r].width:i,a=a>n.stack[r].height?n.stack[r].height:a;return n.minWidth=i,n.minHeight=a,n}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?j(Object(r),!0).forEach((function(n){t()(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _(e,t){var n=e.width,r=e.height,a=e.magnite,o=t.node;if(!(a.account_id&&a.site_id&&a.zone_id&&a.size_id))return i.warn("magnite: incorrect configuration",a),null;var s,l,d=a.vastBaseUrl,u=a.vastQueryTypes,f=a.vastQuery,g=(s=window,{depth:(l=C(s,o)).depth,minWidth:l.minWidth,minHeight:l.minHeight,url:l.stack[l.highest].href,referrer:l.stack[l.highest].referer,domain:l.stack[l.highest].window.location.host}),m={rf:g.depth?g.referrer:g.url},y=h.getGDPR();"gdpr"in y&&(m.gdpr=y.gdpr),"gdpr_consent"in y&&(m.gdpr_consent=y.gdpr_consent),v.uspString&&(m.us_privacy=v.uspString);var w={width:207===Number(a.size_id)?window.innerWidth:n,height:207===Number(a.size_id)?window.innerHeight:r,account_id:a.account_id,site_id:a.site_id,zone_id:a.zone_id,size_id:a.size_id,"p_window.depth":g.depth,"p_window.w":g.minWidth,"p_window.h":g.minHeight,"p_window.url":g.referrer,rp_secure:"https:"===window.location.protocol?1:0,tk_apex:2,cb:1e18*Math.random()};"object"===p()(a.adParams)&&(m=P(P({},m),a.adParams)),m=P(P({},m),w);var b=Object.entries(m).map((function(e){var t=c()(e,2),n=t[0],r=t[1];return"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(r))})).join("&");return"".concat(d).concat(u[f],"?").concat(b)}function O(e,t,n,r){var i=e.createElement(t);return"object"===p()(n)&&Object.entries(n).forEach((function(e){var t=c()(e,2),n=t[0],r=t[1],a=r;"object"===p()(r)&&(a=Object.entries(r).map((function(e){var t=c()(e,2),n=t[0],r=t[1];return"".concat(n,":").concat(r)})).join(";")),i.setAttribute(n,a)})),void 0!==r&&i.appendChild(e.createTextNode(r)),i}function T(e){var t=new Image;return t.src=e,t}var A=n(319),M=n.n(A);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?L(Object(r),!0).forEach((function(n){t()(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e){return e.innerText.split(" ").length}function D(e,t){var n,r,i,a,o=function(e){var t=[],n=document.getElementsByTagName(e);M()(n).forEach((function(e){var n=e.parentNode,r=S(e),i=t.findIndex((function(e){return e===n}));-1===i?(t.push(n),t[t.length-1].wordsCount=r):t[i].wordsCount+=r}));var r=t.reduce((function(e,t){return e.wordsCount>t.wordsCount?e:t})),i=M()(r.getElementsByTagName(e));return{node:r,elements:i}}(t),s=o.elements,c=o.node;return"bottom"===e?{node:s[s.length-1]}:"middle"===e?{node:(n=s,r=c.wordsCount,i=Math.floor(r/2),a=0,n.find((function(e){return(a+=S(e))>=i})))}:{node:s[0],position:"before"}}function N(e){var t=e;Array.isArray(t)||(t=[t]);var n=t.reduce((function(e,t){return e&&e.node?e:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"p",n={},r=e.attachTo;if(r||(r="top"),/^(top|middle|bottom)$/.test(r)){n=0===document.getElementsByTagName(t).length?{node:document.getElementsByTagName("body")[0],position:"prepend"}:D(r,t)}else r instanceof HTMLElement?n.node=r:n.node=document.querySelector(r);return k(k({},e),n)}(t)}),{node:null});return null===n.node?null:n}function z(e,t,n){switch(e){case"append":t.append(n);break;case"prepend":t.prepend(n);break;case"before":t.before(n);break;default:t.after(n)}}var E=n(575),I=n.n(E),R=n(913),W=n.n(R),F={parallaxStepCoefficient:5,stopScroll:{delay:1e3,rangeArea:200,scrollToTreshold:200},resizeRangeAspectRatio:.2},U=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F,i=r.parallaxStepCoefficient,a=r.stopScroll,o=r.resizeRangeAspectRatio;I()(this,e),this.playerWrapper=t,this.parallaxStepCoefficient=i,this.stopScroll=a,this.resizeRangeAspectRatio=o,this.fakeWrapper=O(document,"div"),this.scrollListener={handleEvent:function(){var e=n.playerWrapper.getBoundingClientRect().top;n.setParallaxTransformPosition(e),n.stopScroll&&n.stickScrollTemporarily(e,n.stopScroll)}},this.resizeListener={handleEvent:function(){n.isResized()&&n.resize()}}}return W()(e,[{key:"initialize",value:function(e,t){var n=this;this.playerFrame=this.playerWrapper.firstChild,e.on("ready",(function(){n.elementToParallax=t||n.playerFrame.contentDocument.querySelector(".jw-media"),n.elementToParallax.style.willChange="transform",n.playerWrapper.style.left=0,n.playerWrapper.style.position="absolute",n.playerWrapper.style.zIndex=999,n.playerWrapper.style.background="#000",n.setWrapperTopPosition()}),this),e.on("beforePlay",(function(){n.playerFrame.contentDocument.querySelector(".jw-controls-backdrop").remove(),window.addEventListener("scroll",n.scrollListener),window.addEventListener("resize",n.resizeListener),n.resize()}),this),e.on("complete",(function(){n.destroy()}),this)}},{key:"resize",value:function(){this.setWrapperTopPosition(),this.setParallaxTransformPosition();var e=this.playerFrame.contentDocument.querySelector(".jw-aspect"),t=window.innerHeight/window.innerWidth;this.playerWrapper.style.height="auto",this.playerFrame.style.width=t<1.3?"".concat(100*t/(16/9),"%"):"100%";var n=e.offsetHeight;t>1.9&&(this.playerWrapper.style.height="".concat(n-Math.floor(this.parallaxTransformShiftValue),"px")),this.fakeWrapper.style.height="".concat(n,"px"),this.playerFrame.style.height="auto",this.lastAspectRatio=t}},{key:"destroy",value:function(){window.removeEventListener("scroll",this.scrollListener),window.removeEventListener("resize",this.resizeListener),this.fakeWrapper.remove()}},{key:"setWrapperTopPosition",value:function(){var e=this.fakeWrapper.getBoundingClientRect().top;this.playerWrapper.style.top="".concat(e+document.documentElement.scrollTop,"px")}},{key:"setParallaxTransformPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.parallaxTransformShiftValue=e/this.parallaxStepCoefficient,this.elementToParallax.style.transform="translateY(".concat(-this.parallaxTransformShiftValue,"px) translateZ(0)")}},{key:"isResized",value:function(){var e=window.innerHeight/window.innerWidth;return Math.abs(this.lastAspectRatio-e)>this.resizeRangeAspectRatio}},{key:"stickScrollTemporarily",value:function(e,t){var n=t.delay,r=t.rangeArea,i=t.scrollToTreshold;if(e>-r&&e<r){if(Math.abs(this.lastScrollTop-e)<i)return;window.scrollTo({top:this.playerWrapper.offsetTop,behavior:"smooth"}),document.documentElement.style.overflowY="hidden",setTimeout((function(){document.documentElement.style.overflowY="auto"}),n)}this.lastScrollTop=e}}]),e}();const B={setApexConfig:function(e){return this.apexConfig=e,this},setPlacement:function(e){return this.position=e.position,this.align=e.align,this.node=e.node,this},setRandomId:function(e){return this.randomId=e,this},setPlayerController:function(e){return this.playerController=e,this},setupPlayerWrapper:function(){var e=this.apexConfig,t=this.randomId,n=this.align;return this.attachPlayerTo="".concat(e.player.attachTo,"-").concat(t),this.playerWrapper=function(e,t){var n="center";return"left"===t&&(n="flex-start"),"right"===t&&(n="flex-end"),O(document,"div",{id:"MagniteApex-wrapper-".concat(e),style:{width:"100%",overflow:"hidden",position:"relative",clear:"both",display:"flex","justify-content":n}})}(t,n),this},setupPlayerIframe:function(){var e=this,t=this.apexConfig,n=this.attachPlayerTo,r=this.randomId,i=this.playerController,a=function(e,t,n){return O(document,"iframe",{id:"MagniteApex-iframe-".concat(n),style:{"background-color":"transparent",border:"0px none transparent",margin:"0px",padding:"0px",overflow:"hidden",width:"".concat(t,"px"),height:"1px",display:"block"},srcdoc:'<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"></head><body style="margin:0px;padding:0px;overflow:hidden"><div id="'.concat(e,'"></div></body></html>')})}(n,t.width,r);return a.onload=function(){var t=a.contentWindow,n=t.document;e.postAttach(t),i.iframeSizeWatch=setInterval((function(){var e="".concat(n.documentElement.scrollHeight,"px");a.style.height!==e&&(a.style.height=e)}),30)},this.playerFrame=a,this},setupPlayerContainer:function(){var e,t,n=this.apexConfig,r=this.attachPlayerTo;return this.playerFrame=(e=r,t=n.width,O(document,"div",{id:e,style:{"background-color":"transparent",border:"0px none transparent",margin:"0px",padding:"0px",overflow:"hidden",width:"".concat(t,"px"),display:"block"}})),this},setupVertical:function(){var e=this.apexConfig,t=this.playerController,n=this.playerWrapper;e.isMobile&&207===Number(e.magnite.size_id)&&(e.label=!1,e.collapse=!1,e.width="100%",e.player.jwplayer.aspectratio="9:16",t.verticalVideo=new U(n))},attachPlayerToPage:function(){var e=this.playerWrapper,t=this.playerController,n=this.playerFrame,r=this.position,i=this.node;return e.appendChild(n),t.verticalVideo?(document.body.appendChild(this.playerWrapper),z(r,i,t.verticalVideo.fakeWrapper),this):(z(r,i,e),this)},startPlayer:function(){return this.postAttach(window)},postAttach:function(e){var t,n,r,a,o=this.apexConfig,s=this.attachPlayerTo,c=this.playerWrapper,l=this.playerController;return i.log("Apex Config",o),t=e.document,n=o.player[o.renderer].playerUrl,r=function(){return l.init(c,e,o,s)},(a=O(t,"script",{type:"text/javascript",src:n})).onload=r,a.onabort=r,a.onerror=r,t.head.appendChild(a),this}};function H(e,t,n){/^(time|adTime|bufferChange)$/.test(t)||i.log("[ ".concat(t," ]"),(new Date).toISOString(),n)}var G=n(473),V=n.n(G);function Y(e,t){i.log("Heard the adImpression: ".concat((new Date).toISOString()),t),function(e,t,n){if(t.closeButton){var r={position:"absolute",width:"20px",height:"20px",margin:"0px 0px 20px 20px",top:"5px",right:"5px",left:"auto",bottom:"auto","background-image":"url(".concat(V(),")"),"background-repeat":"no-repeat","background-size":"contain",display:"block",cursor:"pointer","pointer-events":"all"},i=t.isMobile?"touchend":"click",a=O(document,"div",{class:"magnite-apex-close",style:r});a.addEventListener(i,(function(e){e.preventDefault(),n.remove()}),!1),e.appendChild(a)}}(e.jwplayer.getContainer(),e.apexConfig,e);var n=e.apexConfig.adImpression;n&&T(n)}function Q(e){var t=e.apexConfig.adClick;t&&T(t)}function Z(e,t){var n,a=e.apexConfig,o=a.multiFormat;i.log("Ad ERROR: ".concat((new Date).toISOString()),t),o&&a.isMobile&&207===Number(a.magnite.size_id)?(n=r(JSON.parse(window.MagniteApex.initialConfig),{magnite:{size_id:203},multiFormat:!1}),window.MagniteApex.initApex(n)):e.callPassback(),e.remove()}const J={init:function(e,t,n,i){var a=this,o=function(e){var t={width:e.width,height:e.height,advertising:{tag:e.vastUrl,endstate:e.collapse?"close":"suspended"},intl:{en:{advertising:{admessage:" "}}}};e.floating&&!e.isMobile&&(t.floating={mode:"notVisible",dismissible:!1}),e.label&&(t.displayHeading=!0,t.intl.en.advertising.displayHeading=e.label);var n=r(e.player.jwplayer,t);return delete n.playerUrl,n}(n);if(function(e){var t=e.document,n=O(t,"style",{type:"text/css"});n.innerHTML=".jw-icon.jw-icon-inline.jw-icon-fullscreen {display:none}",t.head.appendChild(n)}(t),this.jwplayer=t.jwplayer(i),this.jwplayer.setup(o),this.apexConfig=n,this.wrapper=e,this.windowWithPlayer=t,this.verticalVideo)this.verticalVideo.initialize(this.jwplayer);else{var s=e.firstChild.getBoundingClientRect().width;if(s!==o.width){var c=s/o.width,l=o.height*c;this.resize(s,l)}}n.apexdebug&&this.addListener("all",H),this.addListener("adImpression",Y),this.addListener("adClick",Q),this.addListener("adError",Z),this.addListener("complete",(function(){return setTimeout((function(){return a.remove()}),200)}))},resize:function(e,t){return this.jwplayer.resize(e,t)},addListener:function(e,t){var n=this;return this.jwplayer.on(e,(function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return t.apply(void 0,[n].concat(r))}))},isPresent:function(e){return!!e.jwplayer},remove:function(){var e=this.wrapper,t=this.windowWithPlayer,n=this.apexConfig;this.verticalVideo&&this.verticalVideo.destroy(),this.jwplayer&&this.jwplayer.remove(),this.iframeSizeWatch&&clearInterval(this.iframeSizeWatch),e.firstChild&&e.firstChild.remove(),e.removeAttribute("style"),n.collapse||e.appendChild(function(e,t){return O(e.document,"div",{style:{width:"".concat(t.width,"px"),height:"".concat(t.height,"px")}})}(t,n))},callPassback:function(){var e=this.apexConfig.passback;e&&"function"==typeof window[e]&&(i.log("Calling passback function:",e),window[e](this.wrapper))}};var q=function(){},X=0;function $(e,t){i.log("GDPR TCFv1 handler",e,t);var n={};e&&!1!==t?(n.gdpr=e.gdprApplies?1:0,e.consentData&&(n.gdpr_consent=e.consentData)):n={gdpr:0},h.setConsentData(n,1),q()}window.addEventListener("message",(function(e){e&&e.data&&e.data.__cmpReturn&&$(e.data.__cmpReturn.returnValue,e.data.__cmpReturn.success)}),!1);const K={createConsentPromise:function(e){var t=this;return"gdpr"in e&&"gdpr_consent"in e?(i.log("GDPR TCFv1: got consent from adParameters"),new Promise((function(t){h.setConsentData({gdpr:e.gdpr,gdpr_consent:e.gdpr_consent},1),t()}))):new Promise((function(e){var n=!1;q=function(){n=!0,e()},t.getConsentData(),setTimeout((function(){n||(i.log("GDPR TCFv1: no response"),n=!0,q())}),100)}))},registerCb:function(e){q=e},getConsentData:function(){window.__cmp?(i.log("GDPR TCFv1: call API on the same frame"),window.__cmp("getConsentData",null,$)):(i.log("GDPR TCFv1: send message to locator iframe"),X+=1,window.top.postMessage({__cmpCall:{callId:"iframe:".concat(X),command:"getConsentData"}},"*"))}};var ee=function(){},te=0;function ne(e){try{if(e.frames.__tcfapiLocator)return i.log("GDPR TCFv2: __tcfapiLocator iframe found"),e}catch(e){}return e===window.top?(i.log("GDPR TCFv2: no __tcfapiLocator iframe detected"),null):ne(e.parent)}function re(e,t){i.log("GDPR TCFv2 handler",e,t);var n={};e&&!1!==t?(n.gdpr=e.gdprApplies?1:0,e.tcString&&(n.gdpr_consent=e.tcString)):n={gdpr:0},h.setConsentData(n,2),ee()}window.addEventListener("message",(function(e){e&&e.data&&e.data.__tcfapiReturn&&re(e.data.__tcfapiReturn.returnValue,e.data.__tcfapiReturn.success)}),!1);const ie={createConsentPromise:function(e){var t=this;return"gdpr"in e&&"gdpr_consent"in e?(i.log("GDPR TCFv2: got consent from adParameters"),new Promise((function(t){h.setConsentData({gdpr:e.gdpr,gdpr_consent:e.gdpr_consent},2),t()}))):new Promise((function(e){var n=!1;ee=function(){n=!0,e()},t.getConsentData(),setTimeout((function(){n||(i.log("GDPR TCFv2: no response"),n=!0,ee())}),100)}))},registerCb:function(e){ee=e},getConsentData:function(){if(window.__tcfapi)i.log("GDPR TCFv2: call API on the same frame"),window.__tcfapi("getTCData",2,re);else{i.log("GDPR TCFv2: detect locator iframe");var e=ne(window);if(!e)return;i.log("GDPR TCFv2: send message to locator iframe"),te+=1,e.postMessage({__tcfapiCall:{callId:"iframe:".concat(te),command:"getTCData",version:2}},"*")}}};var ae={k_apexdebug:"apexdebug",k_apextest:"apextest",k_collapse:"collapse",k_multiFormat:"multiFormat",k_close:"closeButton"},oe={width:"width",height:"height",k_label:"label",k_includeAd:"includeAd",k_excludeAd:"excludeAd",k_adImp:"adImpression",k_adClick:"adClick",k_passback:"passback"},se=["k_logo","k_audio","k_fcap","k_fhours","k_placement","k_pos","k_align"];function ce(e,t){var n=c()(e,5),i=n[1],a=n[2],o=n[3],s=n[4],l=function(e){var t;try{t=JSON.parse(e)}catch(e){console.warn("Missing or invalid JSON options object, will use default settings."),t={}}return("object"!==p()(t)||Array.isArray(t)||null===t)&&(console.warn("Invalid options object, will use default settings."),t={}),r({width:640,height:360,k_placement:"a/top",k_pos:"after",k_align:"center",k_collapse:1,k_multiFormat:1},t)}(t),d={placement:[],magnite:{account_id:Number(i),site_id:Number(a),zone_id:Number(o),size_id:Number(s),adParams:{}}};return l.k_placement.split(",").forEach((function(e){var t=e.split("/"),n=c()(t,2)[1];d.placement.push({attachTo:n,position:l.k_pos,align:l.k_align})})),Object.entries(ae).forEach((function(e){var t=c()(e,2),n=t[0],r=t[1];n in l&&(d[r]=1===Number(l[n]),delete l[n])})),Object.entries(oe).forEach((function(e){var t=c()(e,2),n=t[0],r=t[1];n in l&&(d[r]=l[n],delete l[n])})),se.forEach((function(e){return delete l[e]})),Object.entries(l).forEach((function(e){var t=c()(e,2),n=t[0],r=t[1];d.magnite.adParams[n]=r})),d}const le={magnite:{vastBaseUrl:"https://optimized-by.rubiconproject.com",vastQueryTypes:{legacy:"/a/api/vast",vastFriendly:"/a/api/vast_friendly"},vastQuery:"legacy",testAd:"https://trp-apex2-testad-prod.s3.us-west-2.amazonaws.com/testad.xml",stats_url:"https://beacon-nf.rubiconproject.com/beacon/e/",stats_topic:"apxpixelload",stats_sampling_rate:10},jwplayer:{playerUrl:"https://cdn.jwplayer.com/libraries/PmDJ5b8g.js"}};var pe={width:640,height:360,collapse:!0,multiFormat:!0,closeButton:!1,floating:!1,defaultPlacement:{attachTo:"top",position:"after",align:"center"},renderer:"jwplayer",magnite:le.magnite,player:{attachTo:"MagniteApexPlayer",jwplayer:{playerUrl:le.jwplayer.playerUrl,autostart:!1,mute:!0,width:0,height:0,advertising:{vpaidmode:"insecure",vpaidcontrols:!0,admessage:" ",outstream:!0,client:"vast",autoplayadsmuted:!0,endstate:"close"},autoPause:{viewability:!0,pauseAds:!0}}}};function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?de(Object(r),!0).forEach((function(n){t()(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):de(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}window.MagniteApex={playAd:function(e,t){var n=Object.create(J),r=Object.create(B);r.setApexConfig(e).setRandomId(Math.random()).setPlacement(t).setPlayerController(n).setupPlayerWrapper().setupVertical(),n.isPresent(window)||n.verticalVideo?r.setupPlayerIframe().attachPlayerToPage():r.setupPlayerContainer().attachPlayerToPage().startPlayer()},initApex:function(e){console.info("Magnite Apex","2.2.1");var t=r(pe,e);if(i.log("Apex Parameters",e),o.init(t.magnite,i),o.update("apex_loaded"),function(e){return!(!e.includeAd||document.querySelectorAll(e.includeAd).length)||!(!e.excludeAd||!document.querySelectorAll(e.excludeAd).length)}(t))console.warn("Apex: placement is not allowed by includeAd/excludeAd option");else{var n;t.isMobile="unknown"!=(n=navigator.userAgent||navigator.vendor||window.opera,/windows phone/i.test(n)?"Windows Phone":/android/i.test(n)?"Android":/iPad|iPhone|iPod/.test(n)&&!window.MSStream?"iOS":"unknown");var a=N(t.placement||t.defaultPlacement);a?t.isMobile||207!==Number(t.magnite.size_id)?(t.vastUrl=t.vastUrl||_(t,a),(window.location.href.includes("apextest=1")||e.apextest)&&(t.vastUrl=t.magnite.testAd),window.MagniteApex.playAd(t,a)):console.warn("Apex: vertical video placement is supported on mobile platforms only"):console.warn("Apex: no valid player placement found!")}},renderAd:function(e){var t=!!e.apexdebug;window.location.href.includes("apexdebug=1")&&(t=!0),i.set(t);var n=e.magnite&&e.magnite.adParams?e.magnite.adParams:{},r=ie.createConsentPromise(n),a=K.createConsentPromise(n),o=v.createUspPromise(n),s=ue(ue({},e),{},{apexdebug:t});return window.MagniteApex.initialConfig=JSON.stringify(s),Promise.resolve().then((function(){return r})).then((function(){return a})).then((function(){return o})).then((function(){return window.MagniteApex.initApex(s)}))}},function(){var e,t=window.document.currentScript||(e=document.getElementsByTagName("script"))[e.length-1],n=/\/(\d+?)\/(\d+?)\/(\d+?)\/(\d+?)\//.exec(t.src);if(n){var r=ce(n,t.textContent||t.innerText);console.log("Generated config for Apex2:","\n",JSON.stringify(r)),window.MagniteApex.renderAd(r)}}()})()})();